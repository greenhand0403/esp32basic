LED控制

01_Control_LED-13

程序上传后，电路将按以下方式工作：当按下按键并保持不动时，LED光线强度逐渐增强直到达到最大亮度。再次按下按键，LED逐渐熄灭。这项功能可用于选择光线强度，你可自己设定光线水平。
这个程序可用于更改LED达到峰值强度及逐渐熄灭的速率。以下是完整程序文本，以及注释和单独参数。你可通过这些参数来更改运行模式。

调整增量值
将此参数变为5，观察LED变亮的速率是否加快

峰值强度
将此参数变为50，观察达到峰值强度时，LED的亮度是否比刚才略弱

```c
...
brightness += 1;
if (brightness > 255)
{
  brightness = 255;
}
...
```

01_Control_LED-14

程序上传后，电路将按以下方式工作：当按键被短暂按下后，LED亮起，直到按键再次被按下为止。事实上，按键开始起到开关的作用。但与传统开关不同，它能更好地保护眼睛，因为它可确保顺畅开灯关灯，而不会过于刺激双眼。
这个程序可用于更改LED达到峰值强度及逐渐熄灭的速率。以下是完整程序文本，以及注释和单独参数。你可通过这些参数来更改运行模式。

峰值强度
将此参数变为50，观察达到峰值强度时，LED的亮度是否比刚才略弱

开启递增量
将“max_brightness-1”变为1，观察LED打开时是否更加流畅

关闭递增量
将“max_brightness-1”变为10，观察LED是否逐渐熄灭

```c
void switching()
{
  int max_brightness = 255;
  if (!isLedOn)
  {
    for (int i = 0; i < max_brightness; i += 1)
    {
      analogWrite(LED_RED, i);
      delay(20);
    }
    isLedOn = true;
  }
  else
  {
    for (int i = max_brightness; i > 0; i -= max_brightness)
    {
      analogWrite(LED_RED, i);
      delay(20);
    }
    analogWrite(LED_RED, 0);
    isLedOn = false;
  }
}
```