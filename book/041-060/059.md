智能交通灯

02_Traffic_Light-3

本程序不仅可控制交通灯变化，还可通过数字显示器显示距离交通灯下一次变化剩余的时间，并为弱视行人配置了喇叭声音提示。

以下是程序片段，其中包括用于调节交通灯模式的参数。

绿灯运行时间

将此值从6000增加到10,000，观察现在绿色信号灯活动时间是否变长

绿灯运行时间

将此值从3000增加到6000，观察现在绿色信号灯闪烁时间是否变长

红灯运行时间

将此值从9000降低到6000，观察现在红色信号灯活动时间是否变短

```c
long green_ms = 6000;
long green_blinking_ms = 3000;
long red_ms = 9000;
```

喇叭提示音延迟

将此值从500降低到150，观察现在红灯活动时，对弱视行人的提醒是否更为频繁。

```c
  long start_red = millis();
  long prev_tick_speaker = start_red;
  int speaker_delay = 500;
  while (millis() - start_red < red_ms)
```

02_Traffic_Light-4

本程序可人工控制交通灯。你可以通过简单按下按键来选择交通灯模式。与01_Control_LED 章节关于按键的电路相比较，本电路的显著特点是利用了模块中自带的按键。本程序展示了在这种情况如何使用按键。您也可通过闪存驱动器访问本程序。

每次在程序修改后，请将文件重命名并保存到你的项目文件夹中。别忘记将更新后的程序上传到111号模块(ESP32)！