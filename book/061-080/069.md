电机控制

05_Motor_Control-1

上传程序后，电机5次开启2秒，关闭2秒。对于这种类型的三极管，低电平(LOW)用于在IO17引脚以关闭电机，而高电平(HIGH)用于打开电机。请注意，与前面的大多数程序不同，本程序只执行一次而不是循环执行，要重新启动它，必须关闭电源然后打开(OFF-ON)。下面是程序的一个片段，它显示了如何改变电机的启动和停止频率，以及每次打开它时的运行时长。

运行时长

将此参数提高到4000，观察每次打开电机时，电机运行时间是否变长。

打开次数

将此参数变为7，观察电机是否从打开5次变为打开7次。

```c
void setup()
{
  pinMode(MOTOR_PIN, OUTPUT);

  // Switch off the motor at the beginning

  digitalWrite(MOTOR_PIN, LOW);

  int switchDelay = 2000;
  for (int i = 0; i < 5; i++)
  {
    digitalWrite(MOTOR_PIN, HIGH);
    delay(switchDelay);
    digitalWrite(MOTOR_PIN, LOW);
    delay(switchDelay);  
  }
}
```

你也可通过闪存驱动器访问本程序。

对于高级用户

在“LED控制”部分，你已经学习了如何通过程序管理 IO17 引脚的PWM。你可以自己编写一
个程序，使电路逐步调整电机的速度。

每次在程序修改后，请将文件重命名并保存到你的项目文件夹中。别忘记将更新后的程序上传到111号模块(ESP32)！